import { WorkflowsService } from './workflows.service';
import { CreateWorkflowDto } from './dto/create-workflow.dto';
import { UpdateWorkflowDto } from './dto/update-workflow.dto';
import { UpdateEtapeDto } from './dto/update-etape.dto';
import { CancelWorkflowDto } from './dto/cancel-workflow.dto';
import { RestitutionWorkflowDto } from './dto/restitution-workflow.dto';
import { PaginationDto } from '../common/dto/pagination.dto';
import { SecurityLoggerService } from '../common/logger/security-logger.service';
export declare class WorkflowsController {
    private readonly workflowsService;
    private readonly securityLogger;
    constructor(workflowsService: WorkflowsService, securityLogger: SecurityLoggerService);
    create(createWorkflowDto: CreateWorkflowDto): Promise<{
        duration: number | null;
        etapes: {
            duration: number | null;
            valideParUser: {
                id: string;
                email: string | null;
                nom: string;
                prenom: string;
            } | null;
            assignedUser: {
                id: string;
                nom: string;
                prenom: string;
                telephone: string | null;
                specialite: string | null;
            } | null;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            numeroEtape: number;
            description: string | null;
            workflowId: string;
            nomEtape: string;
            statut: import("@prisma/client").$Enums.EtapeStatus;
            sousStatutReception: import("@prisma/client").$Enums.SousStatutReception | null;
            sousStatutTechnique: import("@prisma/client").$Enums.SousStatutTechnique | null;
            formulaire: import("@prisma/client/runtime/client").JsonValue | null;
            dateDebut: Date | null;
            dateFin: Date | null;
            validePar: string | null;
            valideParId: string | null;
            assignedUserId: string | null;
            signatureGestionnaire: string | null;
            signatureTechnicien: string | null;
            signatureControleur: string | null;
            signatureClientReception: string | null;
            signatureGestionnaireVerification: string | null;
            signatureClientRestitution: string | null;
            dateReception: Date | null;
            dateVerification: Date | null;
            dateRestitution: Date | null;
            dateControleTechnicien: Date | null;
            dateControleInterop: Date | null;
            commentaires: string | null;
        }[];
        vehicle: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            immatriculation: string;
            marque: string;
            modele: string;
            annee: number;
            numeroSerie: string;
            creePar: string | null;
        };
        id: string;
        createdAt: Date;
        updatedAt: Date;
        statut: import("@prisma/client").$Enums.WorkflowStatus;
        dateDebut: Date;
        dateFin: Date | null;
        vehicleId: string;
        etapeActuelle: number;
        raisonAnnulation: string | null;
        dateAnnulation: Date | null;
        annulePar: string | null;
    } | null>;
    findAll(paginationDto: PaginationDto): Promise<import("../common/dto/pagination.dto").PaginatedResponse<any>>;
    getStatistics(): Promise<{
        totalVehicles: number;
        completedWorkflows: number;
        inProgressWorkflows: number;
        cancelledWorkflows: number;
        waitingWorkflows: number;
        restitutedWorkflows: number;
        vehiclesByStep: Record<number, number>;
        averageWorkflowTime: number | null;
    }>;
    findOne(id: string, user: any): Promise<{
        etapes: any[];
        duration: number | null;
        vehicle: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            immatriculation: string;
            marque: string;
            modele: string;
            annee: number;
            numeroSerie: string;
            creePar: string | null;
        };
        id: string;
        createdAt: Date;
        updatedAt: Date;
        statut: import("@prisma/client").$Enums.WorkflowStatus;
        dateDebut: Date;
        dateFin: Date | null;
        vehicleId: string;
        etapeActuelle: number;
        raisonAnnulation: string | null;
        dateAnnulation: Date | null;
        annulePar: string | null;
    } | null>;
    getEtapes(id: string, user: any): Promise<any[]>;
    getUserPermissions(id: string, user: any): Promise<Record<number, import("@prisma/client").$Enums.PermissionType[]>>;
    update(id: string, updateWorkflowDto: UpdateWorkflowDto): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        statut: import("@prisma/client").$Enums.WorkflowStatus;
        dateDebut: Date;
        dateFin: Date | null;
        vehicleId: string;
        etapeActuelle: number;
        raisonAnnulation: string | null;
        dateAnnulation: Date | null;
        annulePar: string | null;
    }>;
    updateEtape(id: string, numeroEtape: string, updateEtapeDto: UpdateEtapeDto, user: any): Promise<any>;
    cancelWorkflow(id: string, cancelWorkflowDto: CancelWorkflowDto, user: any, clientInfo: {
        ip: string;
        userAgent: string;
    }): Promise<{
        vehicle: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            immatriculation: string;
            marque: string;
            modele: string;
            annee: number;
            numeroSerie: string;
            creePar: string | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        statut: import("@prisma/client").$Enums.WorkflowStatus;
        dateDebut: Date;
        dateFin: Date | null;
        vehicleId: string;
        etapeActuelle: number;
        raisonAnnulation: string | null;
        dateAnnulation: Date | null;
        annulePar: string | null;
    }>;
    restitution(id: string, restitutionDto: RestitutionWorkflowDto, user: any): Promise<{
        duration: number | null;
        etapes: {
            duration: number | null;
            valideParUser: {
                id: string;
                email: string | null;
                nom: string;
                prenom: string;
            } | null;
            assignedUser: {
                id: string;
                nom: string;
                prenom: string;
                telephone: string | null;
                specialite: string | null;
            } | null;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            numeroEtape: number;
            description: string | null;
            workflowId: string;
            nomEtape: string;
            statut: import("@prisma/client").$Enums.EtapeStatus;
            sousStatutReception: import("@prisma/client").$Enums.SousStatutReception | null;
            sousStatutTechnique: import("@prisma/client").$Enums.SousStatutTechnique | null;
            formulaire: import("@prisma/client/runtime/client").JsonValue | null;
            dateDebut: Date | null;
            dateFin: Date | null;
            validePar: string | null;
            valideParId: string | null;
            assignedUserId: string | null;
            signatureGestionnaire: string | null;
            signatureTechnicien: string | null;
            signatureControleur: string | null;
            signatureClientReception: string | null;
            signatureGestionnaireVerification: string | null;
            signatureClientRestitution: string | null;
            dateReception: Date | null;
            dateVerification: Date | null;
            dateRestitution: Date | null;
            dateControleTechnicien: Date | null;
            dateControleInterop: Date | null;
            commentaires: string | null;
        }[];
        vehicle: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            immatriculation: string;
            marque: string;
            modele: string;
            annee: number;
            numeroSerie: string;
            creePar: string | null;
        };
        id: string;
        createdAt: Date;
        updatedAt: Date;
        statut: import("@prisma/client").$Enums.WorkflowStatus;
        dateDebut: Date;
        dateFin: Date | null;
        vehicleId: string;
        etapeActuelle: number;
        raisonAnnulation: string | null;
        dateAnnulation: Date | null;
        annulePar: string | null;
    } | null>;
    remove(id: string): Promise<void>;
}
